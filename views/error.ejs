<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= status %> - <%= short_message %></title>
<% if (favicon) { %>
    <link rel="icon" href="<%= favicon %>">
<% } %>
    <link rel="stylesheet" href="/public/style.css">
</head>
<body>
    <header class="header"><h1><%= status %> - <%= short_message %></h1></header>
    <main>
        <section class="container error-container">
<% if (url) { %>
            <h2><%= url %></h2>
<% } else { %>
            <h2 id="error-url"><%= short_message %></h2>
            <script>
                document.addEventListener("DOMContentLoaded", () => {
                    const urlElem = document.getElementById("error-url");
                    if (urlElem && document.referrer) {
                        try {
                            const ref = new URL(document.referrer);
                            urlElem.textContent = ref.pathname + ref.search;
                        } catch (e) {
                            urlElem.textContent = document.referrer;
                        }
                    }
                });
            </script>
<% } %>
            <p><%= full_message %></p>
            <a href="/" class="link home-link">Go Home</a>
<% if (course_logo) { %>
            <img class="background-image" src="<%= course_logo %>" alt="Course Logo">
<% } else { %>
            <img class="background-image" src="/course-logo" alt="Course Logo">
<% } %>
        </section>
    </main>
</body>
</html>
